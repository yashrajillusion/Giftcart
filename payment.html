<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./styles/landing_page.css"/>

    <link rel="stylesheet" href="./styles/payment.css">
    <script
    src="https://kit.fontawesome.com/2281802e38.js"
    crossorigin="anonymous"
  ></script>
</head>
<body>
    <div class="nav_bar_container"></div>

    <div class="Bs_orange_line_div">
        <div class="Bs_orange1">
            <p class="Bs_number">1</p>
            <div class="Bs_line"></div>

            <p>Shipping</p>
        </div>
        <div class="Bs_orange2">
            <p class="Bs_number2"><img src="https://www.kindpng.com/picc/m/558-5584414_right-okay-check-icon-png-transparent-png.png" alt=""></p>
            <div class="Bs_line2"></div>
            
            <p>Review & Payments</p>
        </div>
    </div>
    <div id="Bs_hardCode_pp">

    </div>
    <div id="Bs_main">
        <div id="Bs_main_div1">
            <p id="Bs_your_details">PAYMENT METHOD</p>
            <div id="Bs_payment_option">


                <div id="Bs_payment_M1">
                  <label  for="price1">
                    <input value="1" type="radio" name="priceunder7700" id="price1" />
                    <span id="radio1">PayTM - Credit & Debit Card/Net Banking/UPI</span> </label
                  ><br />
                </div>
                <!-- <div><label for="Bs_new_address">
                    <input id="Bs_new_address" type="checkbox">
                    My billing is same as my shipping address
                </label></div> -->
                <div id="Bs_payment_method1">
                    <p class="Bs_username">name</p>
                    <p class="Bs_address">address</p>
                    <p>india</p>
                    <p class="Bs_phone_number">8639245924</p>
                    <button onclick="RazonPayment()" id="Bs_payment_btn1">PAY WITH RAZORPAY</button>
                </div>

                <div id="Bs_payment_M2">
                  <label for="price2">
                    <input value="2" type="radio" name="priceunder7700" id="price2" />
                    <span id="radio2">PayU - Credit & Debit Card/ Net Banking/Tez</span> </label
                  ><br />

                </div>


                <div id="Bs_payment_method2">
                    <p class="Bs_username">name</p>
                    <p class="Bs_address">address</p>
                    <p>india</p>
                    <p class="Bs_phone_number">8639245924</p>
                    <button onclick="RazonPayment()" id="Bs_payment_btn2">CONTINUE CHECKOUT</button>
                </div>

                <div id="Bs_payment_M3">
                  <label for="price3">
                    <input value="3" type="radio" name="priceunder7700" id="price3" />
                    <span id="radio3">International Cards</span> </label
                  ><br />
                </div>
                <div id="Bs_payment_method3">
                    <p class="Bs_username">name</p>
                    <p class="Bs_address">address</p>
                    <p>india</p>
                    <p class="Bs_phone_number">8639245924</p>
                    <button id="Bs_payment_btn3">PLACE ORDER</button>
                </div>              
              </div>
            <div>

                <p id="Bs_apply_discount"><span>Apply Discount Code</span><img src="" alt=""></p>
                
                <div id="Bs_apply_div">
                    <input id="Bs_discount_code" type="text" placeholder="Enter discount code">
                <br>
                <input onclick="discountApply()" type="submit" value="Apply Discount">
                </div>
            </div>
        </div>

        <div id="Bs_main_div2">
            <p id="Bs_order_ss">ORDER SUMMARY</p>
            <div id="Bs_summary_order">
                <p><span class="Bs_summary_span">Cart Subtotal</span><span id="Bs_cart_total"></span></p>
                <p><span class="Bs_summary_span">Shipping Standard Delivery - Standard Delivery</span><span id="Bs_charges"></span></p>
                <p><span class="Bs_summary_span">Order Total</span><span id="Bs_order_total"></span></p>
            </div>
            <div class="Bs_total_Citems_div">
                <p id="Bs_total_Citems"></p>
                <p id="Bs_dropdown_img"><img id="Bs_dropdown_img2" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbtqVPaCb-itwvDwpNDn0Tm_ifn7OYoEzvfVt7kollzUMi5wdWTUDnKRvrxIhANj6d420&usqp=CAU" alt=""></p>
            </div>
            
            <div id="Bs_cart_items_div">
                
            </div>

            <div id="Bs_address_inright_div">
                <p>SHIP TO</p>
                <p class="Bs_username2"></p>
                <p class="Bs_address2"></p>
                <p class="Bs_state_country"></p>
                <p class="Bs_phone_number2"></p>
            </div>

            <div id="Bs_method_dov">
                <p>SHIPPING METHOD</p>  
                <p>Standard Delivery - Standard Delivery</p>
            </div>
            <div id="Bs_image_div">
            <img src="https://www.giftcart.com/pub/static/frontend/Mgs/molly/en_US/images/Covid--19-banner.jpg" alt="">
    
            </div>
        </div>
    </div>
    <div id="Bs_payment_hard_div">
        <div id="Bs_payment_hard">
            <div class="Bs_py_div1">
                <button id="Bs_btn_for_payment"><img src="https://www.pinclipart.com/picdir/big/581-5814701_transparent-background-left-arrow-clipart.png" alt=""> Pay Giftcart</button>
                <img src="https://pbs.twimg.com/profile_images/890542589253869568/Dwz63L0E_400x400.jpg" alt="">
               <div>
                <p id="total_amount"></p>
                <p class="Bs_view_D">View Details</p>
               </div>
                <p>transaction id :0061653854388</p>
            </div>
            <div class="Bs_py_div2">
                <div class="Bs_py_div2_part1">
                    <p>CARDS (CREDIT/DEBIT)</p>
                    <p></p>
                </div>
                <form onsubmit="HardCode(event)" class="Bs_py_div2_part2">
                    <p class="Bs_py_text">New Card</p>
                    <input id="Bs_card_number" class="Bs_inp" type="text" placeholder="Enter Card Number">
                    <p class="Bs_py_text2">CVV</p>
                    <input id="BS_card_cvv" class="Bs_py_input2" type="text" placeholder="Enter CVV">
                    <p class="Bs_py_text">Expiry</p>
                    <input id="BS_card_expiry" class="Bs_inp" type="number" placeholder="MM/YY">
                    <p class="Bs_py_text">Name on Card</p>
                    <input id="Bs_card_username" class="Bs_inp" type="text" placeholder="Enter Name as Card">
                    <div class="Bs_py_div2_inpart3">
                        <input id="checkbox_py" type="checkbox">
                        <p><label for="checkbox_py">Save this option</label></p>
                    </div>
                    <div class="Bs_py_div2_inpart2">
                    <p>securely for faster payment</p>
                </div>
                <input class="Bs_button_submit" type="submit" value="PROCEED">
                </form>
            </div>
        </div>
    </div>
</body>
</html>
<script>
    function RazonPayment() {
        // let paymetn_amount = 10;

        // yash you can write your code here
    }

    // this is for applying discount code Masai99 the total price become 10Rs.
    function discountApply() {
        let dd = document.getElementById('Bs_discount_code').value;

        if(dd !== "Masai99"){
            return;
        }
        let cart_Total = document.getElementById('Bs_cart_total');
        cart_Total.innerText = `10`;
        let charge_amount = 0;
        let charge = document.getElementById('Bs_charges');
        charge.innerText = charge_amount;
        let order_total = document.getElementById('Bs_order_total');
        order_total.textContent = `${10}`;
        let py_total = document.getElementById('total_amount');
        py_total.innerText = `â‚¹${10}`;
    }

    let btn1 = document.getElementById('Bs_payment_btn1');
    btn1.addEventListener('click',()=> {
        console.log('ere')
        // yash add your payment getway here
    })

    let btn2 = document.getElementById('Bs_payment_btn2');
    btn2.addEventListener('click',()=> {
        console.log('ere2')
        //  add payment getway here too

    })

    function HardCode(event) {
        event.preventDefault()
        console.log('ere')
        let card_number = document.getElementById('Bs_card_number').value;
        let card_cvv = document.getElementById('BS_card_cvv').value;
        let card_exp = document.getElementById('BS_card_expiry').value;
        let card_username = document.getElementById('Bs_card_username').value;

        if(card_number.length !== 16){
            
            alert('Enter Right Card Number');
            return;
        }
        if(card_cvv.length !== 3){
            alert('Enter correct CVV Number');
            return;
        }
        if(card_exp.length !== 4){
            alert('Card Expiry Date is wrong');
            return;
        }
        if(card_username.length === ''){
            alert('invalid userName');
            return;
        }
        else {
            alert('Your payment is successful, Thank you using giftcard.')
            window.location.href = './index.html';
        }
    }



    let btn3 = document.getElementById('Bs_payment_btn3');
    btn3.addEventListener('click',()=> {
        // this is hard coded data
        let payment_page = document.getElementById("Bs_payment_hard_div");
        payment_page.style.display = 'block';

    })










    let btn_pay = document.getElementById('Bs_btn_for_payment');
    btn_pay.addEventListener('click',function (){
        let payment_page = document.getElementById("Bs_payment_hard_div");
        payment_page.style.display = 'none';

    })

    

    let items = JSON.parse(localStorage.getItem('productlist'));
    document.getElementById('Bs_total_Citems').innerText = `${items.length} Items in Cart`
    let cart_items = document.getElementById('Bs_cart_items_div');
    

    let {first_name,post_code,last_name,phone_number,state_name,address} = JSON.parse(localStorage.getItem('Address_users'));
    let totalDD = JSON.parse(localStorage.getItem('total_price'));
    {
        let fullName = document.getElementsByClassName('Bs_username');
        fullName.innerText = first_name,last_name;
        let address_dd = document.getElementsByClassName('Bs_address');
        address_dd.innerText = address;
        let Bs_number = document.getElementsByClassName('Bs_phone_number');
        for(let i = 0; i<Bs_number.length; i++){
            fullName[i].innerText = first_name,last_name;
            address_dd[i].innerText = address;
            Bs_number[i].innerText = phone_number;
        }
        
    }
    
    let fullName = document.querySelector('.Bs_username2');
    fullName.innerText = `${first_name} ${last_name}`;
    let address_dd = document.querySelector('.Bs_address2');
    
    address_dd.innerText = `${address} `;
    let state_country = document.querySelector('.Bs_state_country');
    state_country.innerText = `${state_name} ${post_code}, India`

    let Bs_number = document.querySelector('.Bs_phone_number2');
    Bs_number.innerText = `${phone_number}`;

    
    let div1 = document.getElementById('Bs_payment_method1');
    let div2 = document.getElementById('Bs_payment_method2');
    let div3 = document.getElementById('Bs_payment_method3');
    let apply_p = document.getElementById('Bs_apply_discount');
    apply_p.addEventListener('click',function(){
        let div = document.getElementById('Bs_apply_div');
        if(div.style.display == 'block'){
            div.style.display = 'none';
        }
        else  {
            div.style.display = 'block';
        }
    })


    let radio1= document.getElementById('radio1');
    radio1.addEventListener('click',function(){
        if(div1.style.display == 'none'){
            div2.style.display = 'none';
            div3.style.display = 'none';
            div1.style.display = 'block';
        }
        else {
            div1.style.display = 'none';
        }   
    })
    let radio2= document.getElementById('radio2');
    radio2.addEventListener('click',function(){
        if(div2.style.display == 'none'){
            div2.style.display = 'block';
            div1.style.display = 'none';
            div3.style.display = 'none';
        }
        else {
            div2.style.display = 'none';
        }
        
    })
    let radio3= document.getElementById('radio3');
    radio3.addEventListener('click',function(){
        if(div3.style.display == 'none'){
            div3.style.display = 'block';
            div1.style.display = 'none';
            div2.style.display = 'none';
        }
        else {
            div3.style.display = 'none';
        }
        
    })

    displayTable(items,cart_items);
    

    function displayTable(items,location){
        var array = [];
        items.forEach(({image,product,price})=>{
            let main_div = document.createElement('div');
            main_div.setAttribute('class','Bs_pro_main_div')
            main_div.innerHTML = `
            <div class="Bs_pro_img_div">
                    <img src=${image} alt="">
                </div>
                <div class="Bs_pro_text_div">
                    <p class="Bs_cart_p1">${product}</p>
                    <p class="Bs_cart_p2">Qty 1</p>
                    <p class="Bs_cart_p3">${price}</p>
                </div>
            `
            array.push(Number(price));
            location.append(main_div)
        })
        var total = array.reduce((a,b)=>{
            return a+b;
        })
        
        let cart_Total = document.getElementById('Bs_cart_total');
        cart_Total.innerText = `${total}`;
        let charge_amount = 160;
        let charge = document.getElementById('Bs_charges');
        charge.innerText = charge_amount;
        let order_total = document.getElementById('Bs_order_total');
        order_total.textContent = `${totalDD+160}`;
        let py_total = document.getElementById('total_amount');
        py_total.innerText = `â‚¹${totalDD}`;
    }

    let shownoshow = document.querySelector('#Bs_cart_items_div');
    let redio5  = document.getElementById('Bs_total_Citems');
    let img_img = document.getElementById("Bs_dropdown_img2");
    redio5.addEventListener('click',function(){
        if(shownoshow.style.display == 'block'){
            shownoshow.style.display = 'none';
            img_img.style.transform = 'rotate(90deg)';
        }
        else {

            img_img.style.transform = 'rotate(270deg)';
            shownoshow.style.display = 'block';
        }
    })


    let PayTM = document.getElementById('Bs_payment_btn1')
    let payU = document.getElementById('Bs_payment_btn2')
    let international = document.getElementById('Bs_payment_btn3')
</script>
<script type="module">
    // navbar html are imported here
    import navbar_part from "./components/navbar.js";
    let navbar_com = await navbar_part();
    document.querySelector(".nav_bar_container").innerHTML = navbar_com;
    // navbar logic are imported here
    import navbar_responsive from "./scripts/header.js";
    await navbar_responsive();
  </script>
  

